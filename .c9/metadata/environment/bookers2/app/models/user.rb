{"filter":false,"title":"user.rb","tooltip":"/bookers2/app/models/user.rb","undoManager":{"mark":35,"position":35,"stack":[[{"start":{"row":12,"column":50},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":13,"column":0},"end":{"row":13,"column":2},"action":"insert","lines":["  "]},{"start":{"row":13,"column":2},"end":{"row":14,"column":0},"action":"insert","lines":["",""]},{"start":{"row":14,"column":0},"end":{"row":14,"column":2},"action":"insert","lines":["  "]},{"start":{"row":14,"column":2},"end":{"row":15,"column":0},"action":"insert","lines":["",""]},{"start":{"row":15,"column":0},"end":{"row":15,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":14,"column":2},"end":{"row":15,"column":105},"action":"insert","lines":["has_many :follower, class_name: \"Relationship\", foreign_key: \"follower_id\", dependent: :destroy # フォロー取得","has_many :followed, class_name: \"Relationship\", foreign_key: \"followed_id\", dependent: :destroy # フォロワー取得"],"id":3}],[{"start":{"row":15,"column":104},"end":{"row":15,"column":105},"action":"remove","lines":["得"],"id":4},{"start":{"row":15,"column":103},"end":{"row":15,"column":104},"action":"remove","lines":["取"]},{"start":{"row":15,"column":102},"end":{"row":15,"column":103},"action":"remove","lines":["ー"]},{"start":{"row":15,"column":101},"end":{"row":15,"column":102},"action":"remove","lines":["ワ"]},{"start":{"row":15,"column":100},"end":{"row":15,"column":101},"action":"remove","lines":["ロ"]},{"start":{"row":15,"column":99},"end":{"row":15,"column":100},"action":"remove","lines":["ォ"]},{"start":{"row":15,"column":98},"end":{"row":15,"column":99},"action":"remove","lines":["フ"]},{"start":{"row":15,"column":97},"end":{"row":15,"column":98},"action":"remove","lines":[" "]},{"start":{"row":15,"column":96},"end":{"row":15,"column":97},"action":"remove","lines":["#"]}],[{"start":{"row":14,"column":98},"end":{"row":14,"column":99},"action":"remove","lines":["#"],"id":5},{"start":{"row":14,"column":98},"end":{"row":14,"column":99},"action":"remove","lines":[" "]},{"start":{"row":14,"column":98},"end":{"row":14,"column":99},"action":"remove","lines":["フ"]},{"start":{"row":14,"column":98},"end":{"row":14,"column":99},"action":"remove","lines":["ォ"]},{"start":{"row":14,"column":98},"end":{"row":14,"column":99},"action":"remove","lines":["ロ"]},{"start":{"row":14,"column":98},"end":{"row":14,"column":99},"action":"remove","lines":["ー"]},{"start":{"row":14,"column":98},"end":{"row":14,"column":99},"action":"remove","lines":["取"]},{"start":{"row":14,"column":98},"end":{"row":14,"column":99},"action":"remove","lines":["得"]},{"start":{"row":14,"column":98},"end":{"row":15,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":14,"column":98},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":6},{"start":{"row":15,"column":0},"end":{"row":15,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":16,"column":2},"end":{"row":17,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":17,"column":0},"end":{"row":17,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":17,"column":2},"end":{"row":18,"column":62},"action":"insert","lines":["has_many :following_user, through: :follower, source: :followed # 自分がフォローしている人","has_many :follower_user, through: :followed, source: :follower"],"id":8}],[{"start":{"row":18,"column":0},"end":{"row":18,"column":2},"action":"insert","lines":["  "],"id":9}],[{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["#"],"id":10},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":[" "]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["自"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["分"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["が"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["フ"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["ォ"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["ロ"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["ー"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["し"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["て"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["い"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["る"]},{"start":{"row":17,"column":66},"end":{"row":17,"column":67},"action":"remove","lines":["人"]}],[{"start":{"row":18,"column":64},"end":{"row":19,"column":0},"action":"insert","lines":["",""],"id":11},{"start":{"row":19,"column":0},"end":{"row":19,"column":2},"action":"insert","lines":["  "]},{"start":{"row":19,"column":2},"end":{"row":20,"column":0},"action":"insert","lines":["",""]},{"start":{"row":20,"column":0},"end":{"row":20,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":20,"column":2},"end":{"row":33,"column":3},"action":"insert","lines":["# ユーザーをフォローする","def follow(user_id)","  follower.create(followed_id: user_id)","end","","# ユーザーのフォローを外す","def unfollow(user_id)","  follower.find_by(followed_id: user_id).destroy","end","","# フォローしていればtrueを返す","def following?(user)","  following_user.include?(user)","end"],"id":12}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":2},"action":"insert","lines":["  "],"id":13},{"start":{"row":22,"column":0},"end":{"row":22,"column":2},"action":"insert","lines":["  "]},{"start":{"row":23,"column":0},"end":{"row":23,"column":2},"action":"insert","lines":["  "]},{"start":{"row":24,"column":0},"end":{"row":24,"column":2},"action":"insert","lines":["  "]},{"start":{"row":25,"column":0},"end":{"row":25,"column":2},"action":"insert","lines":["  "]},{"start":{"row":26,"column":0},"end":{"row":26,"column":2},"action":"insert","lines":["  "]},{"start":{"row":27,"column":0},"end":{"row":27,"column":2},"action":"insert","lines":["  "]},{"start":{"row":28,"column":0},"end":{"row":28,"column":2},"action":"insert","lines":["  "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":2},"action":"insert","lines":["  "]},{"start":{"row":30,"column":0},"end":{"row":30,"column":2},"action":"insert","lines":["  "]},{"start":{"row":31,"column":0},"end":{"row":31,"column":2},"action":"insert","lines":["  "]},{"start":{"row":32,"column":0},"end":{"row":32,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":33,"column":0},"end":{"row":33,"column":2},"action":"insert","lines":["  "],"id":14}],[{"start":{"row":20,"column":2},"end":{"row":21,"column":2},"action":"remove","lines":["# ユーザーをフォローする","  "],"id":15}],[{"start":{"row":24,"column":2},"end":{"row":25,"column":2},"action":"remove","lines":["# ユーザーのフォローを外す","  "],"id":16}],[{"start":{"row":28,"column":2},"end":{"row":29,"column":2},"action":"remove","lines":["# フォローしていればtrueを返す","  "],"id":17}],[{"start":{"row":17,"column":26},"end":{"row":17,"column":27},"action":"insert","lines":["s"],"id":18}],[{"start":{"row":18,"column":25},"end":{"row":18,"column":26},"action":"insert","lines":["s"],"id":19}],[{"start":{"row":17,"column":47},"end":{"row":17,"column":48},"action":"insert","lines":["s"],"id":20}],[{"start":{"row":18,"column":46},"end":{"row":18,"column":47},"action":"insert","lines":["s"],"id":21}],[{"start":{"row":21,"column":12},"end":{"row":21,"column":13},"action":"insert","lines":["s"],"id":22}],[{"start":{"row":25,"column":12},"end":{"row":25,"column":13},"action":"insert","lines":["s"],"id":23}],[{"start":{"row":29,"column":13},"end":{"row":29,"column":14},"action":"insert","lines":["s"],"id":24}],[{"start":{"row":29,"column":13},"end":{"row":29,"column":14},"action":"remove","lines":["s"],"id":25}],[{"start":{"row":29,"column":18},"end":{"row":29,"column":19},"action":"insert","lines":["s"],"id":26}],[{"start":{"row":29,"column":18},"end":{"row":29,"column":19},"action":"remove","lines":["s"],"id":30}],[{"start":{"row":17,"column":2},"end":{"row":18,"column":66},"action":"remove","lines":["has_many :following_users, through: :followers, source: :followed ","  has_many :follower_users, through: :followeds, source: :follower"],"id":31},{"start":{"row":17,"column":2},"end":{"row":18,"column":77},"action":"insert","lines":["has_many :following_user, through: :follower, source: :followed # 自分がフォローしている人","has_many :follower_user, through: :followed, source: :follower # 自分をフォローしている人"]}],[{"start":{"row":18,"column":76},"end":{"row":18,"column":77},"action":"remove","lines":["人"],"id":32},{"start":{"row":18,"column":75},"end":{"row":18,"column":76},"action":"remove","lines":["る"]},{"start":{"row":18,"column":74},"end":{"row":18,"column":75},"action":"remove","lines":["い"]},{"start":{"row":18,"column":73},"end":{"row":18,"column":74},"action":"remove","lines":["て"]},{"start":{"row":18,"column":72},"end":{"row":18,"column":73},"action":"remove","lines":["し"]},{"start":{"row":18,"column":71},"end":{"row":18,"column":72},"action":"remove","lines":["ー"]},{"start":{"row":18,"column":70},"end":{"row":18,"column":71},"action":"remove","lines":["ロ"]},{"start":{"row":18,"column":69},"end":{"row":18,"column":70},"action":"remove","lines":["ォ"]},{"start":{"row":18,"column":68},"end":{"row":18,"column":69},"action":"remove","lines":["フ"]},{"start":{"row":18,"column":67},"end":{"row":18,"column":68},"action":"remove","lines":["を"]},{"start":{"row":18,"column":66},"end":{"row":18,"column":67},"action":"remove","lines":["分"]},{"start":{"row":18,"column":65},"end":{"row":18,"column":66},"action":"remove","lines":["自"]},{"start":{"row":18,"column":64},"end":{"row":18,"column":65},"action":"remove","lines":[" "]},{"start":{"row":18,"column":63},"end":{"row":18,"column":64},"action":"remove","lines":["#"]}],[{"start":{"row":17,"column":66},"end":{"row":17,"column":80},"action":"remove","lines":["# 自分がフォローしている人"],"id":33}],[{"start":{"row":18,"column":0},"end":{"row":18,"column":2},"action":"insert","lines":["  "],"id":34}],[{"start":{"row":21,"column":12},"end":{"row":21,"column":13},"action":"remove","lines":["s"],"id":35}],[{"start":{"row":25,"column":12},"end":{"row":25,"column":13},"action":"remove","lines":["s"],"id":36}],[{"start":{"row":17,"column":26},"end":{"row":17,"column":27},"action":"insert","lines":["s"],"id":37}],[{"start":{"row":18,"column":25},"end":{"row":18,"column":26},"action":"insert","lines":["s"],"id":38}],[{"start":{"row":18,"column":25},"end":{"row":18,"column":26},"action":"remove","lines":["s"],"id":39}],[{"start":{"row":17,"column":26},"end":{"row":17,"column":27},"action":"remove","lines":["s"],"id":40}]]},"ace":{"folds":[],"scrolltop":76.5,"scrollleft":0,"selection":{"start":{"row":18,"column":12},"end":{"row":18,"column":25},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":4,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1625552723830,"hash":"dac3d19fadc4501f9446e0515b7f49c32b1757a4"}